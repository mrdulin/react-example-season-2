webpackJsonp([13],{536:function(e,t,n){(function(i,a,o){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(17),s=c(l),u=n(18),r=c(u),h=n(19),v=c(h),d=n(21),m=c(d),p=n(20),f=c(p);n(833);var y=function(e){function t(){(0,r.default)(this,t);var e=(0,m.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.state={scale:1,liveScale:1,open:!1,deltaX:0,deltaY:0},e}return(0,f.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){this.initHammer()}},{key:"changeViewport",value:function(){this.viewport=document.querySelector("meta[name=viewport]"),this.viewportCache=this.viewport.getAttribute("content"),this.viewport.setAttribute("content","width=device-width, height=device-height, initial-scale=1.0, maximum-scale=2.0, user-scalable=yes")}},{key:"resetViewport",value:function(){this.viewport.setAttribute("content",this.viewportCache)}},{key:"initHammer",value:function(){var e=document.getElementById("test");this.$img=a(e);var t=new o.Manager(e),n=new o.Pinch;t.add([n]),t.on("pinchmove",this.onPinchMove.bind(this)),t.on("pinchend",this.onPinchEnd.bind(this))}},{key:"render",value:function(){var e=this;return i.createElement("div",{id:"image-zoom"},i.createElement("button",{type:"button",onClick:function(){return e.open()}},"预览图片"),i.createElement("div",{className:"mask",style:{display:this.state.open?"flex":"none"},onClick:function(){return e.close()}},i.createElement("img",{id:"test",src:n(1209),alt:"缩放图"}),i.createElement("div",{className:"count"},"1/1")))}},{key:"open",value:function(){this.setState({open:!0})}},{key:"close",value:function(){this.setState({open:!1})}},{key:"getRelativeScale",value:function(e){var t=1;return e*t}},{key:"onPinchEnd",value:function(e){var t=this.getRelativeScale(e.scale);this.setState({liveScale:t})}},{key:"onPinchMove",value:function(e){var t=this.getRelativeScale(e.scale);t<1&&(t=1),Velocity.hook(this.$img,"scale",t)}}]),t}(i.Component);t.default=y,e.exports=t.default}).call(t,n(1),n(415),n(406))},833:830,1209:function(e,t,n){e.exports=n.p+"images/QQ20161124-1@2x-08c5c12b.png"}});