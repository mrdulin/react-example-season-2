webpackJsonp([11],{18:function(t,e,n){t.exports={default:n(19),__esModule:!0}},19:function(t,e,n){var o=n(9);t.exports=function(t){return(o.JSON&&o.JSON.stringify||JSON.stringify).apply(JSON,arguments)}},79:function(t,e,n){function o(t){return t instanceof Array?t.slice():t&&"object"==typeof t?y(new t.constructor,t):t}function r(){function t(n,r){f(!Array.isArray(r),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),f("object"==typeof r&&null!==r,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(e).join(", "));var a,u,c=n,l=v(r);for(a=0;a<l.length;a++){var u=l[a];if(p.call(e,u))c=e[u](r[u],c,r,n);else{var i=t(n[u],r[u]);i!==c[u]&&(c===n&&(c=o(n)),c[u]=i)}}return c}var e=y({},h);return t.extend=function(t,n){e[t]=n},t}function a(t,e,n){f(Array.isArray(t),"update(): expected target of %s to be an array; got %s.",n,t);var o=e[n];f(Array.isArray(o),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,o)}function u(t,e){f(Array.isArray(t),"Expected $splice target to be an array; got %s",t),c(e.$splice)}function c(t){f(Array.isArray(t),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",t)}function l(t){f("function"==typeof t,"update(): expected spec of $apply to be a function; got %s.",t)}function i(t){f(1===Object.keys(t).length,"Cannot have more than one key in an object with $set")}function s(t,e){f(e&&"object"==typeof e,"update(): $merge expects a spec of type 'object'; got %s",e),f(t&&"object"==typeof t,"update(): $merge expects a target of type 'object'; got %s",t)}var f=n(107),p=Object.prototype.hasOwnProperty,d=Array.prototype.splice,y=Object.assign||function(t,e){for(var n=v(e),o=0;o<n.length;o++){var r=n[o];p.call(e,r)&&(t[r]=e[r])}return t},v="function"==typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)},h={$push:function(t,e,n){return a(e,n,"$push"),e.concat(t)},$unshift:function(t,e,n){return a(e,n,"$unshift"),t.concat(e)},$splice:function(t,e,n,r){var a=e===r?o(r):e;return u(a,n),t.forEach(function(t){c(t),d.apply(a,t)}),a},$set:function(t,e,n){return i(n),t},$merge:function(t,e,n,r){var a=e===r?o(r):e;return s(a,t),v(t).forEach(function(e){a[e]=t[e]}),a},$apply:function(t,e){return l(t),t(e)}};t.exports=r(),t.exports.newContext=r},107:function(t,e,n){t.exports=n(1)(19)},162:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.changeData=function(){return{type:"changeData"}}},164:function(t,e,n){(function(o){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(18),c=a(u),l=n(3),i=a(l),s=n(4),f=a(s),p=n(5),d=a(p),y=n(7),v=a(y),h=n(6),g=a(h),b=n(79),m=(a(b),n(70)),_=n(162),j=r(_),O=function(t){function e(){return(0,f.default)(this,e),(0,v.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"shouldComponentUpdate",value:function(t){return t.data!==this.props.data}},{key:"render",value:function(){return console.count("Child2 render"),o.createElement("div",null,"child2",(0,c.default)(this.props.data))}}]),e}(o.Component),$=function(t){function e(){return(0,f.default)(this,e),(0,v.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:"shouldComponentUpdate",value:function(t){return t.data!==this.props.data}},{key:"render",value:function(){return console.count("Child1 render"),o.createElement("div",null,"child1",o.createElement(O,{data:this.props.data.lv2}))}}]),e}(o.Component),x=function(t){function e(){var t,n,o,r;(0,f.default)(this,e);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=o=(0,v.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(u))),o.state={root:{lv1:{lv2:[1,2,3]}}},o.handleClick=function(){o.props.dispatch(j.changeData())},r=n,(0,v.default)(o,r)}return(0,g.default)(e,t),(0,d.default)(e,[{key:"render",value:function(){console.count("Parent render");var t=this.props.data;return o.createElement("div",null,"parent",o.createElement($,{data:t.root.lv1}),o.createElement("button",{onClick:this.handleClick},"修改数据"))}}]),e}(o.Component);e.default=(0,m.connect)(function(t){return{data:t.DataRef}})(x),t.exports=e.default}).call(e,n(2))},165:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DataRef=void 0;var r=n(79),a=o(r),u={root:{lv1:{lv11:[1,2,3]},lv2:{lv21:[1,1,1]},lv3:{lv31:[1,3,4]}}};e.DataRef=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments[1];switch(e.type){case"changeData":var n=(0,a.default)(t,{root:{lv1:{lv11:{$set:[3,4,5]}}}});return console.log(t===n),console.log(t.root===n.root),console.log(t.root.lv1===n.root.lv1),console.log(t.root.lv1.lv11===n.root.lv1.lv11),console.log(t.root.lv2===n.root.lv2),console.log(t.root.lv2.lv21===n.root.lv2.lv21),n;default:return t}}}});